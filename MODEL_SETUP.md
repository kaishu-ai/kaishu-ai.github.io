# MobileNet æœ¬åœ°æ¨¡å‹é…ç½®æŒ‡å—

## ğŸ“¦ å·²å®Œæˆçš„é…ç½®

### 1. æ¨¡å‹æ–‡ä»¶ä½ç½®
æ¨¡å‹å·²æ”¾ç½®åœ¨ `modelzoo/mobilenet/` ç›®å½•ï¼š
- âœ… `model.json` (183KB) - æ¨¡å‹æ¶æ„å®šä¹‰
- âœ… `group1-shard1of3.bin` (4.0MB) - æƒé‡æ–‡ä»¶ç‰‡æ®µ 1
- âœ… `group1-shard2of3.bin` (4.0MB) - æƒé‡æ–‡ä»¶ç‰‡æ®µ 2
- âœ… `group1-shard3of3.bin` (1.7MB) - æƒé‡æ–‡ä»¶ç‰‡æ®µ 3

æ€»å¤§å°ï¼šçº¦ **9.9MB**

### 2. ç±»åˆ«æ ‡ç­¾æ–‡ä»¶
- âœ… `imagenet_classes.txt` (10KB) - ImageNet 1000ä¸ªç±»åˆ«æ ‡ç­¾

### 3. ä»£ç ä¿®æ”¹
- âœ… ç§»é™¤äº† `@tensorflow-models/mobilenet` CDN ä¾èµ–
- âœ… ä½¿ç”¨ TensorFlow.js ç›´æ¥åŠ è½½æœ¬åœ°æ¨¡å‹
- âœ… å®ç°äº†è‡ªå®šä¹‰åˆ†ç±»å‡½æ•°
- âœ… æ”¯æŒæœ¬åœ°åŠ è½½ç±»åˆ«æ ‡ç­¾

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ 1ï¼šPython HTTP æœåŠ¡å™¨ï¼ˆæ¨èï¼‰

```bash
cd /Users/shukai/myapps
python3 -m http.server 8000
```

ç„¶åè®¿é—®ï¼š`http://localhost:8000`

### æ–¹å¼ 2ï¼šNode.js HTTP æœåŠ¡å™¨

```bash
cd /Users/shukai/myapps
npx http-server -p 8000
```

ç„¶åè®¿é—®ï¼š`http://localhost:8000`

### æ–¹å¼ 3ï¼šPHP å†…ç½®æœåŠ¡å™¨

```bash
cd /Users/shukai/myapps
php -S localhost:8000
```

ç„¶åè®¿é—®ï¼š`http://localhost:8000`

## âœ¨ ä¼˜åŠ¿

### 1. **å®Œå…¨ç¦»çº¿**
- æ— éœ€äº’è”ç½‘è¿æ¥å³å¯ä½¿ç”¨ï¼ˆæ¨¡å‹å’Œæ ‡ç­¾éƒ½åœ¨æœ¬åœ°ï¼‰
- é€‚åˆå†…ç½‘ç¯å¢ƒæˆ–æ— ç½‘ç»œåœºæ™¯

### 2. **åŠ è½½æ›´å¿«**
- æœ¬åœ°åŠ è½½é€Ÿåº¦æ¯”ä» CDN ä¸‹è½½å¿«å¾—å¤š
- å‡å°‘ç½‘ç»œå»¶è¿Ÿ

### 3. **éšç§ä¿æŠ¤**
- æ‰€æœ‰æ•°æ®éƒ½åœ¨æœ¬åœ°å¤„ç†
- ä¸ä¼šå‘å¤–éƒ¨æœåŠ¡å™¨å‘é€ä»»ä½•æ•°æ®

### 4. **ç‰ˆæœ¬æ§åˆ¶**
- æ¨¡å‹ç‰ˆæœ¬å›ºå®šï¼Œä¸ä¼šå›  CDN æ›´æ–°è€Œå˜åŒ–
- ç¡®ä¿ç»“æœçš„ä¸€è‡´æ€§

## ğŸ”§ æŠ€æœ¯å®ç°

### æ¨¡å‹åŠ è½½æµç¨‹

```javascript
// 1. åŠ è½½ TensorFlow.js æ¨¡å‹
mobileNetModel = await tf.loadLayersModel('modelzoo/mobilenet/model.json');

// 2. åŠ è½½ç±»åˆ«æ ‡ç­¾
const response = await fetch('imagenet_classes.txt');
const data = await response.text();
imagenetClasses = data.split('\n').filter(x => x);

// 3. å›¾åƒé¢„å¤„ç†
const img = tf.browser.fromPixels(imgElement)
    .toFloat()
    .resizeBilinear([224, 224])
    .expandDims();

// 4. å½’ä¸€åŒ–ï¼ˆMobileNet ä½¿ç”¨ [-1, 1] èŒƒå›´ï¼‰
const normalized = img.div(127.5).sub(1);

// 5. æ¨¡å‹æ¨ç†
const logits = mobileNetModel.predict(normalized);
const probabilities = logits.softmax();

// 6. è·å– Top 5 ç»“æœ
// ... æ’åºå¹¶è¿”å›æœ€é«˜æ¦‚ç‡çš„ 5 ä¸ªç±»åˆ«
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | CDN åŠ è½½ | æœ¬åœ°åŠ è½½ |
|------|---------|---------|
| é¦–æ¬¡åŠ è½½æ—¶é—´ | 5-10ç§’ï¼ˆå–å†³äºç½‘ç»œï¼‰ | 1-2ç§’ |
| é‡æ–°åŠ è½½æ—¶é—´ | 2-5ç§’ï¼ˆæµè§ˆå™¨ç¼“å­˜ï¼‰ | <1ç§’ |
| ç½‘ç»œä¾èµ– | å¿…éœ€ | ä¸éœ€è¦ |
| æ¨ç†é€Ÿåº¦ | 50-100ms | 50-100ms |
| æ€»æ¨¡å‹å¤§å° | ~13MB | ~9.9MB |

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å¿…é¡»ä½¿ç”¨ HTTP æœåŠ¡å™¨
ç”±äºæµè§ˆå™¨çš„ CORS å®‰å…¨ç­–ç•¥ï¼Œä¸èƒ½ç›´æ¥åŒå‡» HTML æ–‡ä»¶æ‰“å¼€ï¼Œå¿…é¡»é€šè¿‡ HTTP æœåŠ¡å™¨è®¿é—®ã€‚

### 2. æ–‡ä»¶è·¯å¾„è¦æ­£ç¡®
ç¡®ä¿ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š
```
/Users/shukai/myapps/
â”œâ”€â”€ index.html
â”œâ”€â”€ app.js
â”œâ”€â”€ imagenet_classes.txt
â””â”€â”€ modelzoo/
    â””â”€â”€ mobilenet/
        â”œâ”€â”€ model.json
        â”œâ”€â”€ group1-shard1of3.bin
        â”œâ”€â”€ group1-shard2of3.bin
        â””â”€â”€ group1-shard3of3.bin
```

### 3. æµè§ˆå™¨å…¼å®¹æ€§
éœ€è¦æ”¯æŒä»¥ä¸‹ç‰¹æ€§çš„ç°ä»£æµè§ˆå™¨ï¼š
- WebGLï¼ˆç”¨äº TensorFlow.js åŠ é€Ÿï¼‰
- ES6+ (async/await, ç®­å¤´å‡½æ•°ç­‰)
- Fetch API

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šæ¨¡å‹åŠ è½½å¤±è´¥
**é”™è¯¯ä¿¡æ¯**: `Failed to load model`

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥æ˜¯å¦ä½¿ç”¨ HTTP æœåŠ¡å™¨ï¼ˆä¸è¦ç›´æ¥æ‰“å¼€ HTMLï¼‰
2. æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 2ï¼šæ— æ³•æ‰¾åˆ°ç±»åˆ«æ ‡ç­¾
**é”™è¯¯ä¿¡æ¯**: `Failed to fetch imagenet_classes.txt`

**è§£å†³æ–¹æ³•**:
1. ç¡®è®¤ `imagenet_classes.txt` åœ¨é¡¹ç›®æ ¹ç›®å½•
2. æ£€æŸ¥æ–‡ä»¶æƒé™
3. æŸ¥çœ‹æµè§ˆå™¨ Network æ ‡ç­¾çš„è¯·æ±‚çŠ¶æ€

### é—®é¢˜ 3ï¼šåˆ†ç±»ç»“æœä¸å‡†ç¡®
**å¯èƒ½åŸå› **:
1. å›¾åƒé¢„å¤„ç†ä¸æ­£ç¡®ï¼ˆæ£€æŸ¥å½’ä¸€åŒ–èŒƒå›´ï¼‰
2. æ¨¡å‹æƒé‡æ–‡ä»¶æŸåï¼ˆé‡æ–°ä¸‹è½½ï¼‰
3. å›¾åƒè´¨é‡æˆ–è§’åº¦é—®é¢˜ï¼ˆå°è¯•ä¸åŒå›¾ç‰‡ï¼‰

## ğŸ“ æµ‹è¯•æ­¥éª¤

1. **å¯åŠ¨æœåŠ¡å™¨**:
   ```bash
   python3 -m http.server 8000
   ```

2. **æ‰“å¼€æµè§ˆå™¨**:
   è®¿é—® `http://localhost:8000`

3. **æ£€æŸ¥æ§åˆ¶å°**:
   åº”è¯¥çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—ï¼š
   ```
   æ­£åœ¨ä»æœ¬åœ°åŠ è½½ MobileNet æ¨¡å‹...
   âœ“ MobileNet æ¨¡å‹å·²ä»æœ¬åœ°åŠ è½½
   âœ“ ImageNet ç±»åˆ«æ ‡ç­¾å·²åŠ è½½ï¼Œå…± 1001 ä¸ªç±»åˆ«
   MobileNet æ¨¡å‹åŠ è½½æˆåŠŸ
   ```

4. **ä¸Šä¼ æµ‹è¯•å›¾ç‰‡**:
   - ä¸Šä¼ ä¸€å¼ æ¸…æ™°çš„ç‰©ä½“ç…§ç‰‡
   - ç‚¹å‡»"å¼€å§‹åˆ†ç±»"
   - æŸ¥çœ‹ Top 5 ç»“æœ

5. **æµ‹è¯•å¤šè¯­è¨€**:
   - åˆ‡æ¢åˆ°ä¸åŒè¯­è¨€ï¼ˆEnglish, æ—¥æœ¬èª, EspaÃ±olï¼‰
   - ç¡®è®¤æ‰€æœ‰æ–‡æœ¬æ­£ç¡®ç¿»è¯‘

## ğŸ‰ æˆåŠŸæ ‡å¿—

- âœ… é¡µé¢åŠ è½½æ—¶æ˜¾ç¤º"æ¨¡å‹åŠ è½½æˆåŠŸ"
- âœ… å¯ä»¥ä¸Šä¼ å›¾ç‰‡å¹¶è·å¾—åˆ†ç±»ç»“æœ
- âœ… Top 5 ç»“æœæ˜¾ç¤ºæ­£ç¡®çš„ç±»åˆ«åç§°å’Œæ¦‚ç‡
- âœ… æ— éœ€è”ç½‘å³å¯æ­£å¸¸ä½¿ç”¨
- âœ… å¤šè¯­è¨€ç•Œé¢å·¥ä½œæ­£å¸¸

## ğŸ”— ç›¸å…³èµ„æº

- [TensorFlow.js å®˜æ–¹æ–‡æ¡£](https://www.tensorflow.org/js)
- [MobileNet è®ºæ–‡](https://arxiv.org/abs/1801.04381)
- [ImageNet æ•°æ®é›†](http://www.image-net.org/)

---

**é…ç½®å®Œæˆæ—¶é—´**: 2025-10-05  
**æ¨¡å‹ç‰ˆæœ¬**: MobileNet V3 Large  
**æ¨¡å‹æ ¼å¼**: TensorFlow.js GraphModel  
**TensorFlow.js ç‰ˆæœ¬**: 4.11.0
